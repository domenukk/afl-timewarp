# general settings
CC = gcc

# compiler flags:
# -O1: in order to do basic optimization.
#  (Basically: using the registers properly)
# -std=c11 : dunno, probably sensible
# -fno-inline and -fno-builtin: in order to retain readability of the assembler
#  code during optimization. (Without these, the compiler might replace
#  calls to string functions with less readable alternatives, mostly using
#  rep loops.)
# -fno-omit-frame-pointer: so that rbp will be saved to the stack and
#  can be leaked from there.
# -Wall -Werror: in order to force good coding style in C,
#  in the slight hope of preventing unintended bugs.
CFLAGS = -O1 -std=c11 -fno-inline -fno-builtin -fno-omit-frame-pointer -Wall -Werror

# generic aliases
DEBUG = -g
COMPILE_ONLY = -c
32BIT = -m32
64BIT = -m64

# relevant for controlling the exercise difficulty
NO_CANARY = -fno-stack-protector
NO_NX = -z execstack
NO_FORTIFY = -U_FORTIFY_SOURCE
DO_DUP2 = -DDUP2
COMPILE_TO_PIE = -fpie
LINK_TO_PIE = -pie
